{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\n\nconst _c0 = function (a0) {\n  return [a0];\n};\n\nconst _c1 = function (a0) {\n  return {\n    \"fill\": a0\n  };\n};\n/* SVG formula for funnel descender\n\nOrigin X (Ox) = 0\t\t\t\t← X coordinate for starting point\nOrigin Y (Oy) = 0\t\t\t\t← Y coordinate for starting point\nParent width (p0) = 630\t\t← value of step 0\nVertical line (V) = 36\t\t\t← height of descenders (constant)\ndrop (d0) = 0.7\t\t\t\t← percentage of p0 for step 1\np0 * d0 = bW0 = 441\t\t\t\t\t← bottom width of next step (630*0.7)\np0 - d0 = diff0 = 189\t\t← difference of p0 and d0 (630-441)\ndiff0 / 2  = diff0x = 94.5\t\t← X coordinate change (189/2)\np0 - diff0x = bRx = 535.5\t\t\t← bottom right X coordinate (630-94.5)\nOx + diff0x = bLx=  94.5\t\t\t\t← bottom left X coordinate (0 + 94.5)\n\nFor example:\n630 * 0.7 = 441\n630 - 441 = 189\n189 / 2 = 94.5\n630 - 94.5 = 535.5\n0 + 94.5 = 94.5\n\n<path d=‘M0 0 H 630 L 535.5 36 L 94.5 36 Z'><path>\n\n*/\n\n\nexport let sbFunnelDescender = /*#__PURE__*/(() => {\n  class sbFunnelDescender {\n    constructor() {\n      this.math = Math;\n      this.Ox = 0;\n      this.Oy = 0;\n      this.V = 36; //height\n\n      this.firstBar = 630;\n    }\n\n    ngOnInit() {\n      this.p0 = this.math.round(this.p0 * 10 / 10);\n      this.bW0 = this.math.round(this.firstBar * this.d0 * 10 / 10); // 441, 189, 94.5\n\n      this.diff0 = this.math.round((this.p0 - this.bW0) * 10 / 10); // 189, 441, 94.5\n\n      this.diff0x = this.math.round(this.diff0 / 2 * 10 / 10); // 94.5, 220.5, 47.25\n\n      this.bRx = this.math.round((this.p0 - this.diff0x) * 10 / 10); // 535.5, 409.5 --> 409 - 94.5 = 315, 141.25\n\n      this.bLx = this.math.round((this.Ox + this.diff0x) * 10 / 10); // 94.5, 220.5 --> 220.5 - 94.5 = 126, 47.25\n\n      this.details = 'M ' + this.Ox + ' ' + this.Oy + ' H ' + this.p0 + ' L ' + this.bRx + ' ' + this.V + ' L ' + this.bLx + ' ' + this.V + ' Z';\n    }\n\n  }\n\n  sbFunnelDescender.ɵfac = function sbFunnelDescender_Factory(t) {\n    return new (t || sbFunnelDescender)();\n  };\n\n  sbFunnelDescender.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: sbFunnelDescender,\n    selectors: [[\"storybook-funnel-descender\"]],\n    inputs: {\n      p0: \"p0\",\n      flag: \"flag\",\n      d0: \"d0\"\n    },\n    decls: 5,\n    vars: 11,\n    consts: [[\"fill-opacity\", \"0.5\"], [\"x\", \"50%\", \"y\", \"50%\", \"dominant-baseline\", \"middle\", 3, \"ngStyle\"]],\n    template: function sbFunnelDescender_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(0, \"svg\");\n        i0.ɵɵelementStart(1, \"g\");\n        i0.ɵɵelement(2, \"path\", 0);\n        i0.ɵɵelementStart(3, \"text\", 1);\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵattribute(\"height\", i0.ɵɵpureFunction1(5, _c0, ctx.V))(\"width\", i0.ɵɵpureFunction1(7, _c0, ctx.p0));\n        i0.ɵɵadvance(2);\n        i0.ɵɵattribute(\"d\", ctx.details);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(9, _c1, ctx.flag ? \"var(--colorA)\" : \"var(--colorB)\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.d0 * 100, \"% \");\n      }\n    },\n    directives: [i1.NgStyle],\n    styles: [\"[_nghost-%COMP%]{--logo: url(https://brand.ncsu.edu/img/logo/4x1white.jpg);--brand-color: #cc0000;--colorA: #ffffff;--colorB: #000000}body[_ngcontent-%COMP%]{font-family:Public Sans,sans-serif}svg[_ngcontent-%COMP%]{fill:var(--brand-color);margin:auto;display:flex}text[_ngcontent-%COMP%]{text-anchor:middle}\"]\n  });\n  return sbFunnelDescender;\n})();","map":null,"metadata":{},"sourceType":"module"}